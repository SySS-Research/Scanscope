{% extends "base.html" %}

{% from macros import embed %}

{% block head %}
<script type="text/javascript" src="sql-wasm.min.js"></script>
<script type="text/javascript" src="sql-aux.js"></script>
<script type="text/javascript" src="utils.js"></script>
<script type="text/javascript" src="bokeh-aux.js"></script>
<link href="bokeh-aux.css" rel="stylesheet" />
{% endblock %}

{% block content %}

<div id="bokeh-div">
  {%      for doc in docs %}
  {{        embed(doc) if doc.elementid }}
  {%-       for root in doc.roots %}
  {{            embed(root) }}
  {%        endfor %}
  {%      endfor %}
  {{ plot_script }}
</div>
<div id="hosts-details">
</div>

<template id="template-popup">
<div class="bokeh-popup">
</div>
</template>

<template id="template-popup-host">
<div class="mw-25 bokeh-popup-host">
    <svg class="rounded me-2" width="20" height="20" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" preserveAspectRatio="xMidYMid slice" focusable="false"><rect width="100%" height="100%" fill="#007aff" fill-opacity="0.8"></rect></svg>
    <span class="group-size"></span> hosts: <span class="tcp-ports"></span><span class="udp-ports"></span>
</div>
</template>

<template id="template-host-group-list">
<div class="bokeh-host-group-list">
    <div class="bokeh-host-group-list-head">
        <div class="bokeh-host-group-list-head-row">
            <div class="row-cell">Ports intersection:</div>
            <div class="row-cell"><span class="ports-intersection"></span></div>
        </div>
        <div class="bokeh-host-group-list-head-row">
            <div class="row-cell">Ports union:</div>
            <div class="row-cell"><span class="ports-union"></span></div>
        </div>
    </div>
    <div class="bokeh-host-group-list-body pt-3">
    </div>
</div>
</template>

<template id="template-host-group">
<div class="bokeh-host-group">
    <div>
        <div class="host-group-addresses ps-3"></div>
        <div class="host-group-ports ps-3"></div>
    </div>
</div>
<div class="bokeh-host-group-separator"></div>
</template>

<template id="template-host-address">
    <span class="scanscope-host-address"></span>
</template>

<template id="template-port">
    <span class="scanscope-port badge rounded-pill bg-secondary"></span>
</template>

{% endblock %}
